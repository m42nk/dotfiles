- name: Bootstrap development environment
  hosts: localhost

  pre_tasks:
    - name: Gather the package facts
      package_facts:
        manager: auto

    - name: update | apt
      become: true
      apt:
        force_apt_get: true
        update_cache: true
        cache_valid_time: 3600
        state: present
      changed_when: false

  tasks:
    - name: install tmux | apt
      become: true
      apt:
        name: tmux
        state: present
      when: '"tmux" not in ansible_facts.packages'
      tags:
        - tmux

# vim: filetype=yaml.ansible
